var GEOAPIS_V1=GEOAPIS_V1||{};GEOAPIS_V1.baseService=function(a){this.accessToken="Bearer "+a;this.apiAddress="https://api.pitneybowes.com/location-intelligence/";this.response={}};GEOAPIS_V1.baseService.prototype.callApi=function(c){var a=null;try{a=$.ajax({url:this.apiAddress+c,type:"GET",async:false,headers:{"Content-type":"application/json",Accept:"application/json",Authorization:this.accessToken}});this.response={};this.response.httpResponse={};this.response.httpResponse.status=a.status;this.response.httpResponse.statusText=a.statusText;this.response.response=JSON.parse(a.responseText);if(a.status===200){this.response.status="success"}else{this.response.status="failed"}}catch(b){this.response={};this.response.status="failed";this.response.httpResponse={};this.response.httpResponse.status=a.status;this.response.httpResponse.statusText=a.statusText;if(a.responseText!==""){this.response.response=a.responseText}else{this.response.response={};this.response.response.errors=[];this.response.response.errors.push({errorCode:"GE0001",errorDescription:"Internal server error encountered."})}}};GEOAPIS_V1.baseService.prototype.callApiAsync=function(apiUrl,callback){var request=$.ajax({url:this.apiAddress+apiUrl,type:"GET",async:true,headers:{"Content-type":"application/json",Accept:"application/json",Authorization:this.accessToken}}).done(function(responseData,status,xhr){this.response={};this.response.httpResponse={};this.response.httpResponse.status=xhr.status;this.response.httpResponse.statusText=xhr.statusText;this.response.response=JSON.parse(xhr.responseText);if(xhr.status===200){this.response.status="success"}else{this.response.status="failed"}var callbacks=eval(callback);if(callbacks!==undefined&&callbacks!==null){callbacks(this.response)}else{alert("Callback are not available.")}}).fail(function(xhr,status,err){this.response={};this.response.status="failed";this.response.httpResponse={};this.response.httpResponse.status=xhr.status;this.response.httpResponse.statusText=xhr.statusText;if(xhr.responseText!==""){this.response.response=xhr.responseText}else{this.response.response={};this.response.response.errors=[];this.response.response.errors.push({errorCode:"GE0001",errorDescription:"Internal server error encountered."})}var callbacks=eval(callback);if(callbacks!==undefined&&callbacks!==null){callbacks(this.response)}else{alert("Callback are not available.")}})};function GEOAPIS_V1_INHERIT(c,a){var b=new c();a.prototype=b;a.prototype.constructor=a}GEOAPIS_V1.geo911=function(a){GEOAPIS_V1.baseService.call(this,a)};GEOAPIS_V1_INHERIT(GEOAPIS_V1.baseService,GEOAPIS_V1.geo911);GEOAPIS_V1.geo911.prototype.getPSAPByAddress=function(b,c){var a="/geo911/v1/psap/byaddress?address="+encodeURIComponent(b.address);if(c!==undefined){this.callApiAsync(a,c)}else{this.callApi(a);return this.response}};GEOAPIS_V1.geo911.prototype.getPSAPByLocation=function(b,c){var a="/geo911/v1/psap/bylocation?latitude="+encodeURIComponent(b.latitude)+"&longitude="+encodeURIComponent(b.longitude);if(c!==undefined){this.callApiAsync(a,c)}else{this.callApi(a);return this.response}};GEOAPIS_V1.geoEnhance=function(a){GEOAPIS_V1.baseService.call(this,a)};GEOAPIS_V1_INHERIT(GEOAPIS_V1.baseService,GEOAPIS_V1.geoEnhance);GEOAPIS_V1.geoEnhance.prototype.getAddress=function(b,c){var a="/geoenhance/v1/address/bylocation?latitude="+encodeURIComponent(b.latitude)+"&longitude="+encodeURIComponent(b.longitude);if(b.searchRadius!==null&&b.searchRadius!==undefined){a+="&searchRadius="+encodeURIComponent(b.searchRadius)}if(b.searchRadiusUnit!==null&&b.searchRadiusUnit!==undefined){a+="&searchRadiusUnit="+encodeURIComponent(b.searchRadiusUnit)}if(c!==undefined){this.callApiAsync(a,c)}else{this.callApi(a);return this.response}};GEOAPIS_V1.geoEnhance.prototype.getPlace=function(b,c){var a="/geoenhance/v1/place/bylocation?latitude="+encodeURIComponent(b.latitude)+"&longitude="+encodeURIComponent(b.longitude);if(b.levelHint!==null&&b.levelHint!==undefined){a+="&levelHint="+encodeURIComponent(b.levelHint)}if(c!==undefined){this.callApiAsync(a,c)}else{this.callApi(a);return this.response}};GEOAPIS_V1.geoEnhance.prototype.getPOI=function(b,c){var a="/geoenhance/v1/poi/bylocation?latitude="+encodeURIComponent(b.latitude)+"&longitude="+encodeURIComponent(b.longitude);if(b.category!==null&&b.category!==undefined){a+="&category="+encodeURIComponent(b.category)}if(b.searchRadius!==null&&b.searchRadius!==undefined){a+="&searchRadius="+encodeURIComponent(b.searchRadius)}if(b.maxCandidates!==null&&b.maxCandidates!==undefined){a+="&maxCandidates="+encodeURIComponent(b.maxCandidates)}if(b.searchRadiusUnit!==null&&b.searchRadiusUnit!==undefined){a+="&searchRadiusUnit="+encodeURIComponent(b.searchRadiusUnit)}if(b.searchPriority!==null&&b.searchPriority!==undefined){a+="&searchPriority="+encodeURIComponent(b.searchPriority)}if(b.searchDataset!==null&&b.searchDataset!==undefined){a+="&searchDataset="+encodeURIComponent(b.searchDataset)}if(c!==undefined){this.callApiAsync(a,c)}else{this.callApi(a);return this.response}};GEOAPIS_V1.geoEnhance.prototype.getTimezone=function(b,c){var a="/geoenhance/v1/timezone/bylocation?latitude="+encodeURIComponent(b.latitude)+"&longitude="+encodeURIComponent(b.longitude)+"&timestamp="+encodeURIComponent(b.timestamp);if(c!==undefined){this.callApiAsync(a,c)}else{this.callApi(a);return this.response}};GEOAPIS_V1.geoLife=function(a){GEOAPIS_V1.baseService.call(this,a)};GEOAPIS_V1_INHERIT(GEOAPIS_V1.baseService,GEOAPIS_V1.geoLife);GEOAPIS_V1.geoLife.prototype.getDemographicByAddress=function(b,c){var a="/geolife/v1/demographics/byaddress?address="+encodeURIComponent(b.address);if(b.filter!==null&&b.filter!==undefined){a+="&filter="+encodeURIComponent(b.filter)}if(b.profile!==null&&b.profile!==undefined){a+="&profile="+encodeURIComponent(b.profile)}if(b.country!==null&&b.country!==undefined){a+="&country="+encodeURIComponent(b.country)}if(c!==undefined){this.callApiAsync(a,c)}else{this.callApi(a);return this.response}};GEOAPIS_V1.geoLife.prototype.getDemographicByLocation=function(b,c){var a="/geolife/v1/demographics/bylocation?latitude="+encodeURIComponent(b.latitude)+"&longitude="+encodeURIComponent(b.longitude);if(b.filter!==null&&b.filter!==undefined){a+="&filter="+encodeURIComponent(b.filter)}if(b.profile!==null&&b.profile!==undefined){a+="&profile="+encodeURIComponent(b.profile)}if(c!==undefined){this.callApiAsync(a,c)}else{this.callApi(a);return this.response}};GEOAPIS_V1.geoLife.prototype.getSegmentationByAddress=function(b,c){var a="/geolife/v1/segmentation/byaddress?address="+encodeURIComponent(b.address);if(b.country!==null&&b.country!==undefined){a+="&country="+encodeURIComponent(b.country)}if(c!==undefined){this.callApiAsync(a,c)}else{this.callApi(a);return this.response}};GEOAPIS_V1.geoLife.prototype.getSegmentationByLocation=function(b,c){var a="/geolife/v1/segmentation/bylocation?latitude="+encodeURIComponent(b.latitude)+"&longitude="+encodeURIComponent(b.longitude);if(c!==undefined){this.callApiAsync(a,c)}else{this.callApi(a);return this.response}};GEOAPIS_V1.geoSearch=function(a){GEOAPIS_V1.baseService.call(this,a)};GEOAPIS_V1_INHERIT(GEOAPIS_V1.baseService,GEOAPIS_V1.geoSearch);GEOAPIS_V1.geoSearch.prototype.getLocation=function(b,c){var a="/geosearch/v1/locations?searchText="+encodeURIComponent(b.searchText)+"&latitude="+encodeURIComponent(b.latitude)+"&longitude="+encodeURIComponent(b.longitude);if(b.maxCandidates!==null&&b.maxCandidates!==undefined){a+="&maxCandidates="+encodeURIComponent(b.maxCandidates)}if(b.searchRadius!==null&&b.searchRadius!==undefined){a+="&searchRadius="+encodeURIComponent(b.searchRadius)}if(b.searchRadiusUnit!==null&&b.searchRadiusUnit!==undefined){a+="&searchRadiusUnit="+encodeURIComponent(b.searchRadiusUnit)}if(c!==undefined){this.callApiAsync(a,c)}else{this.callApi(a);return this.response}};GEOAPIS_V1.geoTax=function(a){GEOAPIS_V1.baseService.call(this,a)};GEOAPIS_V1_INHERIT(GEOAPIS_V1.baseService,GEOAPIS_V1.geoTax);GEOAPIS_V1.geoTax.prototype.getTaxRateByAddress=function(b,c){var a="/geotax/v1/taxrate/"+encodeURIComponent(b.taxType)+"/byaddress?address="+encodeURIComponent(b.address);if(c!==undefined){this.callApiAsync(a,c)}else{this.callApi(a);return this.response}};GEOAPIS_V1.geoTax.prototype.getTaxRateByLocation=function(b,c){var a="/geotax/v1/taxrate/"+encodeURIComponent(b.taxType)+"/bylocation?latitude="+encodeURIComponent(b.latitude)+"&longitude="+encodeURIComponent(b.longitude);if(c!==undefined){this.callApiAsync(a,c)}else{this.callApi(a);return this.response}};GEOAPIS_V1.geoTax.prototype.getTaxByAddress=function(b,c){var a="/geotax/v1/tax/"+encodeURIComponent(b.taxType)+"/byaddress?address="+encodeURIComponent(b.address)+"&purchaseAmount="+encodeURIComponent(b.purchaseAmount);if(c!==undefined){this.callApiAsync(a,c)}else{this.callApi(a);return this.response}};GEOAPIS_V1.geoTax.prototype.getTaxByLocation=function(b,c){var a="/geotax/v1/tax/"+encodeURIComponent(b.taxType)+"/bylocation?latitude="+encodeURIComponent(b.latitude)+"&longitude="+encodeURIComponent(b.longitude)+"&purchaseAmount="+encodeURIComponent(b.purchaseAmount);if(c!==undefined){this.callApiAsync(a,c)}else{this.callApi(a);return this.response}};